```mermaid
erDiagram
  THREADS {
    TEXT id PK
    TEXT title
    INTEGER created_at
  }

  MESSAGES {
    TEXT id PK
    TEXT thread_id FK
    TEXT role
    TEXT content
    INTEGER created_at
  }

  UPLOADS {
    TEXT id PK
    TEXT filename
    TEXT mime_type
    INTEGER size_bytes
    TEXT storage_path
    INTEGER created_at
  }

  THREADS ||--o{ MESSAGES : has
  THREADS ||--o{ UPLOADS : has
```